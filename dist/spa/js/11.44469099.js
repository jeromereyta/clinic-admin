(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{1563:function(t,e,i){},6131:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"q-pa-sm"},[i("div",{staticClass:"row q-col-gutter-sm"},[i("div",{staticClass:"col-lg-12 col-md-7 col-sm-12 col-xs-12"},[i("q-stepper",{ref:"stepper",attrs:{"header-nav":"",color:"primary",animated:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[i("q-step",{attrs:{name:1,title:"Patient Information and Visit Logs",icon:"shopping_cart",done:t.step>1||t.inQueue||t.isPast,"header-nav":t.step>1}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:"",dense:"",outlined:"",label:"Patient Name *"},model:{value:t.patient.patient_name,callback:function(e){t.$set(t.patient,"patient_name",e)},expression:"patient.patient_name"}})],1)],1),i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:"",dense:"",outlined:"",label:"Attending Doctor *"},model:{value:t.patient.attending_doctor,callback:function(e){t.$set(t.patient,"attending_doctor",e)},expression:"patient.attending_doctor"}})],1)],1),i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:"",dense:"",outlined:"",label:"Patient Height*"},model:{value:t.patient.patient_height,callback:function(e){t.$set(t.patient,"patient_height",e)},expression:"patient.patient_height"}})],1)],1),i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:"",dense:"",outlined:"",label:"Patient Weight *"},model:{value:t.patient.patient_weight,callback:function(e){t.$set(t.patient,"patient_weight",e)},expression:"patient.patient_weight"}})],1)],1),i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:"",dense:"",autogrow:"",outlined:"",label:"Patient Blood Pressure*"},model:{value:t.patient.patient_bp,callback:function(e){t.$set(t.patient,"patient_bp",e)},expression:"patient.patient_bp"}})],1)],1),i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:"",dense:"",autogrow:"",outlined:"",label:"Remarks / Description *"},model:{value:t.patient.remarks,callback:function(e){t.$set(t.patient,"remarks",e)},expression:"patient.remarks"}})],1)],1)]),i("q-stepper-navigation",[i("q-btn",{staticClass:"float-right q-mr-md q-mb-md",attrs:{rounded:"",color:"blue",label:"Next"},on:{click:function(){t.done1=!0,t.step=2}}}),i("q-btn",{staticClass:"q-ml-sm",staticStyle:{float:"left"},attrs:{flat:"",color:"red",label:"Back to Homepage"},on:{click:function(e){return t.$router.push("/")}}})],1)],1),i("q-step",{attrs:{name:2,title:"Upload Files",icon:"file",done:t.step>2||t.inQueue||t.isPast,"header-nav":t.step>2}},[i("q-card-section",[i("table-file-uploads",{attrs:{"files-data":t.files}})],1),i("q-stepper-navigation",[i("q-btn",{staticClass:"float-right text-capitalize text-indigo-8 shadow-3",staticStyle:{float:"left"},attrs:{label:"Add File",icon:"person_add"},on:{click:function(e){return t.openUploadModal()}}}),i("q-btn",{staticClass:"float-right q-mr-md q-mb-md",attrs:{rounded:"",color:"blue",label:"Next"},on:{click:function(){t.done2=!0,t.step=3}}}),i("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",color:"primary",rounded:"",label:"Back"},on:{click:function(e){t.step=1}}})],1)],1),i("q-step",{attrs:{name:3,title:"Procedures",icon:"file",done:t.step>3||t.inQueue||t.isPast,"header-nav":t.step>3}},[i("q-card-section",[i("table-patient-procedures",{attrs:{procedures:t.procedures}})],1),i("q-stepper-navigation",[t.inQueue||t.isPast?t._e():i("q-btn",{staticClass:"float-right text-capitalize text-indigo-8 shadow-3",staticStyle:{float:"left"},attrs:{label:"Add Procedures",icon:"person_add"},on:{click:function(e){return t.openProcedureModal()}}}),i("q-btn",{staticClass:"float-right q-mr-md q-mb-md",attrs:{rounded:"",color:"blue",label:"Next"},on:{click:function(){t.done2=!0,t.step=4}}}),i("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",color:"primary",rounded:"",label:"Back"},on:{click:function(e){t.step=2}}})],1)],1),i("q-step",{attrs:{name:4,title:"Review your Procedures",icon:"shopping_cart","header-nav":t.step>4||t.inQueue||t.isPast,done:t.inQueue||t.isPast}},[i("q-card",{staticClass:"rounded-borders"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("q-item-label",{staticClass:"text-h6",attrs:{header:""}},[t._v("Services summary")]),t._l(t.procedures,(function(e,a){return i("div",{key:e.id},[i("q-item",{staticClass:"full-width"},[i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.name))]),i("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.description))])],1),i("q-item-section",{attrs:{side:""}},[i("span",[t._v("₱\n                      "+t._s(e.price)+"\n                    ")])])],1),i("q-separator",{attrs:{spaced:"",inset:""}})],1)}))],2)]),i("q-separator"),i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col-7 q-pt-xs"},[i("q-item-label",{staticClass:"text-h6",attrs:{header:""}},[t._v("Payment Summary")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Payment Method: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:t.inQueue||t.isPast,dense:"",outlined:"",label:"Eg. Cash, Gcash, Card"},model:{value:t.order.payment_method,callback:function(e){t.$set(t.order,"payment_method",e)},expression:"order.payment_method"}})],1)],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Remarks: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[i("q-input",{staticClass:"full-width",attrs:{disable:t.inQueue||t.isPast,dense:"",outlined:"",label:""},model:{value:t.order.remarks,callback:function(e){t.$set(t.order,"remarks",e)},expression:"order.remarks"}})],1)],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Total Amount: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[i("span",[t._v("₱")]),t._v(" "+t._s(t.procedureAmount)+"\n                    ")])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Payment Date: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[t._v(t._s(t.dateToday))])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Status: ")])])],1),t.inQueue?i("div",{staticClass:"col-6"},[i("q-item",[i("q-chip",{attrs:{outline:"",color:"green","text-color":"white",icon:"done"}},[t._v("\n                        Paid\n                      ")])],1)],1):!t.inQueue&&t.isPast?i("div",{staticClass:"col-6"},[i("q-item",[i("q-chip",{attrs:{outline:"",color:"red","text-color":"blue",icon:"unpublished"}},[t._v("\n                        Expired and Transaction wasn't placed.\n                      ")])],1)],1):i("div",{staticClass:"col-6"},[i("q-item",[i("q-chip",{attrs:{outline:"",color:"yellow","text-color":"white",icon:"unpublished"}},[t._v("\n                        Not Paid\n                      ")])],1)],1)])],1)],1)],1),i("q-stepper-navigation",[i("q-btn",{staticClass:"q-ml-sm",staticStyle:{float:"left"},attrs:{flat:"",color:"red",label:"Back to Homepage"},on:{click:function(e){return t.$router.push("/")}}}),t.inQueue||t.isPast?t._e():i("q-btn",{staticClass:"float-right q-mr-md q-mb-md",attrs:{rounded:"",color:"blue",label:"Place Order"},on:{click:function(e){return t.submitPatientTransaction()}}}),i("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",color:"primary",rounded:"",label:"Back"},on:{click:function(e){t.step=3}}}),t.inQueue?i("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",color:"green",rounded:"",label:"Download PDF Receipt"},on:{click:function(e){return t.generateReport()}}}):t._e()],1)],1)],1)],1)]),i("q-dialog",{attrs:{"transition-show":"scale"},model:{value:t.uploadFileModal,callback:function(e){t.uploadFileModal=e},expression:"uploadFileModal"}},[i("q-card",{staticClass:"my-card"},[i("q-card-section",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"text-subtitle1"},[t._v("\n          Upload File\n        ")]),i("div",{staticClass:"text-caption text-grey"},[t._v("\n          Schedule for checkup, laboratory and etc.\n        ")]),i("q-select",{staticStyle:{"margin-top":"30px",width:"400px","padding-bottom":"32px"},attrs:{filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.fileTypes,"option-label":"name",loading:t.loadingFileTypes,hint:"Select File Type"},scopedSlots:t._u([{key:"append",fn:function(){return[null!==t.fileType?i("q-icon",{staticClass:"cursor-pointer",attrs:{v:"",name:"cancel"},on:{click:function(e){e.stopPropagation(),t.fileType=null}}}):t._e()]},proxy:!0},{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[t._v("\n                No results\n              ")])],1)]},proxy:!0}]),model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}}),null!==t.fileType?i("q-file",{staticStyle:{"margin-top":"30px"},attrs:{filled:"","bottom-slots":"",label:"Upload File",counter:"","max-files":"12"},scopedSlots:t._u([{key:"append",fn:function(){return[null!==t.file?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){e.stopPropagation(),t.file=null}}}):t._e()]},proxy:!0},{key:"hint",fn:function(){return[t._v("\n            Field hint\n          ")]},proxy:!0}],null,!1,4094531631),model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}):t._e(),null!==t.file?i("q-input",{staticClass:"full-width",staticStyle:{"margin-top":"30px"},attrs:{dense:"",autogrow:"",outlined:"",label:"Description *"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}):t._e()],1),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[null!==t.file?i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",color:"primary",label:"Upload the File",icon:"folder_open"},on:{click:function(e){return t.uploadFile()}}}):t._e()],1)],1)],1),i("q-dialog",{attrs:{"transition-show":"scale"},model:{value:t.patientError,callback:function(e){t.patientError=e},expression:"patientError"}},[i("q-card",{staticClass:"bg-red-4 text-white",staticStyle:{width:"300px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[t._v("Error")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("ul",t._l(t.errorMessages,(function(e){return i("li",{key:e},[t._v("\n            "+t._s(e)+"\n          ")])})),0)]),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"}})],1)],1)],1),i("q-dialog",{attrs:{"transition-show":"scale"},model:{value:t.procedureModal,callback:function(e){t.procedureModal=e},expression:"procedureModal"}},[i("q-card",{staticStyle:{"max-width":"450px","max-height":"650px"}},[i("q-card-section",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"text-subtitle1"},[t._v("\n            Add Procedure\n          ")]),i("div",{staticClass:"text-caption text-grey"},[t._v("\n            Schedule for checkup, laboratory and etc.\n          ")])]),i("q-card-section",[i("q-select",{staticStyle:{width:"400px","padding-bottom":"32px"},attrs:{label:"Select Procedures",filled:"","use-input":"",clearable:"","input-debounce":"0",options:t.proceduresOptionsComputed,"option-label":"name"},scopedSlots:t._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[t._v("\n                    No results\n                  ")])],1)]},proxy:!0}]),model:{value:t.selectedProcedure,callback:function(e){t.selectedProcedure=e},expression:"selectedProcedure"}}),i("q-input",{attrs:{filled:"",disable:"",label:"Price","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.totalPrice,callback:function(e){t.totalPrice=e},expression:"totalPrice"}}),i("q-input",{attrs:{filled:"",label:"Note","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),i("q-card-actions",[i("q-btn",{staticClass:"q-ml-sm",staticStyle:{float:"left"},attrs:{flat:"",color:"blue",label:"Submit"},on:{click:function(e){return t.submitPatientProcedure()}}}),i("q-btn",{staticClass:"q-ml-sm",staticStyle:{float:"left"},attrs:{flat:"",color:"red",label:"Cancel"},on:{click:function(e){t.procedureModal=!1}}})],1),i("q-inner-loading",{attrs:{showing:t.isLoading}},[i("q-spinner-grid",{attrs:{size:"200px",color:"pink"}})],1)],1)],1),i("q-inner-loading",{attrs:{showing:t.isLoading}},[i("q-spinner-grid",{attrs:{size:"200px",color:"pink"}})],1),i("VueHtml2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,"paginate-elements-by-height":1400,filename:t.patient.patient_name+"- receipt -"+Date.now(),"pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"900px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("q-card",{staticClass:"rounded-borders"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("q-item-label",{staticClass:"text-h4",staticStyle:{color:"deeppink"},attrs:{header:""}},[t._v("\n              Clinica Medica\n            ")]),i("q-item-label",{staticClass:"text-h6",attrs:{header:""}},[t._v("Services summary")]),t._l(t.procedures,(function(e,a){return i("div",{key:e.id},[i("q-item",{staticClass:"full-width"},[i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.name))]),i("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.description))])],1),i("q-item-section",{attrs:{side:""}},[i("span",[t._v("₱\n                      "+t._s(e.price)+"\n                    ")])])],1),i("q-separator",{attrs:{spaced:"",inset:""}})],1)}))],2)]),i("q-separator"),i("q-card-section",{attrs:{horizontal:""}},[i("q-card-section",{staticClass:"col-7 q-pt-xs"},[i("q-item-label",{staticClass:"text-h6",attrs:{header:""}},[t._v("Payment Summary")]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Patient Name: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[t._v("\n                  "+t._s(t.patient.patient_name)+"\n                ")])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Payment Method: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[t._v("\n                  "+t._s(t.order.payment_method)+"\n                ")])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Remarks: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[t._v("\n                  "+t._s(t.order.remarks)+"\n                ")])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Total Amount: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[i("span",[t._v("₱")]),t._v(" "+t._s(t.procedureAmount)+"\n                ")])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Payment Date: ")])])],1),i("div",{staticClass:"col-6"},[i("q-item",[t._v(t._s(t.dateToday))])],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-item",[i("div",{staticClass:"text-subtitle1",staticStyle:{"max-width":"200px"}},[t._v("Status: ")])])],1),t.inQueue?i("div",{staticClass:"col-6"},[i("q-item",[i("q-chip",{attrs:{outline:"",color:"green","text-color":"white",icon:"done"}},[t._v("\n                    Paid\n                  ")])],1)],1):!t.inQueue&&t.isPast?i("div",{staticClass:"col-8"},[i("q-item",[i("q-chip",{attrs:{outline:"",color:"red","text-color":"blue",icon:"unpublished"}},[t._v("\n                    Expired and Transaction wasn't placed.\n                  ")])],1)],1):i("div",{staticClass:"col-6"},[i("q-item",[i("q-chip",{attrs:{outline:"",color:"yellow","text-color":"white",icon:"unpublished"}},[t._v("\n                    Not Paid\n                  ")])],1)],1)])],1)],1)],1)],1)])],1)},s=[],n=(i("a4d3"),i("e01a"),i("d81d"),i("fb6a"),i("b0c0"),i("a9e3"),i("b680"),i("d3b7"),i("e6cf"),i("ac1f"),i("25f0"),i("5319"),i("bd4c")),l=i("6480"),o={name:"PatientVisit",components:{VueHtml2pdf:l["a"],TableFileUploads:function(){return Promise.all([i.e(0),i.e(73)]).then(i.bind(null,"a27d"))},TablePatientProcedures:function(){return Promise.all([i.e(0),i.e(60)]).then(i.bind(null,"9a42"))}},data:function(){return{order:{payment_method:null,remarks:null},inQueue:!1,isPast:!1,dateToday:n["b"].formatDate(Date.now(),"dddd, MMMM DD, YYYY"),createPatientLoading:!1,loadingFileTypes:!1,fileType:null,fileTypes:[],filesData:[],file:null,description:null,patient:{files:[]},patientError:!1,procedureOptions:[],errorMessages:[],step:1,address_detail:{},card_detail:{},isLoading:!1,procedureModal:!1,selectedProcedure:null,totalPrice:0,totalProceduresAmount:0,uploadFileModal:!1}},created:function(){this.getPatientVisit(),this.getFileTypes(),this.getProcedures()},watch:{selectedProcedure:function(){null===this.selectedProcedure?this.totalPrice=0:this.totalPrice=this.selectedProcedure.price}},computed:{files:function(){return this.patient.files.map((function(t){return{file_name:t.name,link:"http://localhost/storage/"+t.path,file_type_name:t.file_type.name,format:t.format}}))},procedures:function(){return this.patient.procedures},proceduresOptionsComputed:function(){var t,e,i=null!==(t=null===(e=this.$store.state.procedures)||void 0===e?void 0:e.procedures)&&void 0!==t?t:[];return i.map((function(t){return t.label=t.name,t.value=t.id,t}))},procedureAmount:function(){var t=0;if(void 0!==this.patient.procedures)for(var e=0;e<this.patient.procedures.length;e++){var i=this.patient.procedures[e],a=parseFloat(i.price);t+=a}return this.formatMoney(t)}},methods:{generateReport:function(){this.$refs.html2Pdf.generatePdf()},getPatientVisit:function(){var t,e=this,i=null!==(t=this.$route.params.patient_visit_id)&&void 0!==t?t:null;null!==i&&(this.isLoading=!0,this.$store.dispatch("patients/patientVisitByID",i).then((function(t){e.isLoading=!1,401===t.status?e.$router.push("/UsersAdmin"):t.status>=404?e.$router.push("/"):null!==t.data&&(e.patient=t.data,e.isPast=e.patient.is_past,null!==e.patient.total_summary?(e.inQueue=!0,e.order.remarks=e.patient.total_summary.remarks,e.order.payment_method=e.patient.total_summary.paymentMethod,e.step=4):e.inQueue=!1)})))},getFileTypes:function(){var t=this;this.loadingFileTypes=!0,this.$store.dispatch("fileTypes/list").then((function(e){t.loadingFileTypes=!1,401===e.status?t.$router.push("/UsersAdmin"):t.fileTypes=e.data}))},formatMoney:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{e=Math.abs(e),e=isNaN(e)?2:e;var s=t<0?"-":"",n=parseInt(t=Math.abs(Number(t)||0).toFixed(e)).toString(),l=n.length>3?n.length%3:0,o=s+(l?n.substr(0,l)+a:"")+n.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?i+Math.abs(t-n).toFixed(e).slice(2):"");return o}catch(r){}},getProcedures:function(){var t=this;this.isLoading=!0,this.$store.dispatch("procedures/list").then((function(e){t.isLoading=!1,401===e.status&&t.$router.push("/UsersAdmin")}))},openProcedureModal:function(){this.procedureModal=!0},openUploadModal:function(){this.uploadFileModal=!0},processError:function(t){for(var e in t){var i=t[e];for(var a in i)this.errorMessages.push(i[a])}this.patientError=!0},submitPatientTransaction:function(){var t=this,e={patient_visit_id:this.$route.params.patient_visit_id,remarks:this.order.remarks,payment_method:this.order.payment_method,total_amount:this.procedureAmount};this.isLoading=!0,this.$store.dispatch("patients/createPatientTransaction",e).then((function(e){401===e.status?(t.$router.push("/UsersAdmin"),t.isLoading=!1):e.status>200?(t.isLoading=!1,t.processError(e.data)):t.getPatientVisit()}))},uploadFile:function(){var t=this,e=new FormData;e.append("file",this.file),e.append("patient_visit_id",this.$route.params.patient_visit_id),e.append("file_type_id",this.fileType.id),e.append("description",this.description),this.isLoading=!0,this.$store.dispatch("patients/addPatientVisitFile",e).then((function(e){401===e.status?(t.$router.push("/UsersAdmin"),t.isLoading=!1):e.status>200?(t.isLoading=!1,t.processError(e.data)):(t.description=null,t.file=null,t.fileType=null,t.getPatientVisit())}))},submitPatientProcedure:function(){var t=this,e={patient_visit_id:this.$route.params.patient_visit_id,procedure_ids:[this.selectedProcedure.id],note:this.description};this.isLoading=!0,this.errorMessages=[],this.$store.dispatch("patients/addPatientProcedure",e).then((function(e){t.createPatientLoading=!1,401===e.status?t.$router.push("/UsersAdmin"):e.status>204?(t.isLoading=!1,t.processError(e.data)):(t.procedureModal=!1,t.isLoading=!1,t.getPatientVisit(),t.description=null,t.selectedProcedure=null)}))}}},r=o,c=(i("6b14"),i("2877")),d=i("9989"),p=i("f531"),u=i("87fe"),m=i("66e5"),h=i("27f9"),f=i("b19c"),v=i("9c40"),b=i("a370"),q=i("f09f"),_=i("0170"),g=i("4074"),C=i("eb85"),y=i("b047"),x=i("24e8"),P=i("ddd8"),w=i("0016"),k=i("7d53"),S=i("4b7e"),Q=i("74f7"),M=i("981c"),T=i("7f67"),$=i("eebe"),F=i.n($),L=Object(c["a"])(r,a,s,!1,null,"68b27059",null);e["default"]=L.exports;F()(L,"components",{QPage:d["a"],QStepper:p["a"],QStep:u["a"],QItem:m["a"],QInput:h["a"],QStepperNavigation:f["a"],QBtn:v["a"],QCardSection:b["a"],QCard:q["a"],QItemLabel:_["a"],QItemSection:g["a"],QSeparator:C["a"],QChip:y["a"],QDialog:x["a"],QSelect:P["a"],QIcon:w["a"],QFile:k["a"],QCardActions:S["a"],QInnerLoading:Q["a"],QSpinnerGrid:M["a"]}),F()(L,"directives",{ClosePopup:T["a"]})},"6b14":function(t,e,i){"use strict";i("1563")}}]);